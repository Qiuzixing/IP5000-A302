(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45069722"],{"466d":function(t,e,i){"use strict";var s=i("d784"),a=i("825a"),n=i("50c4"),o=i("1d80"),r=i("8aa5"),l=i("14c3");s("match",1,(function(t,e,i){return[function(e){var i=o(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,i):new RegExp(e)[t](String(i))},function(t){var s=i(e,t,this);if(s.done)return s.value;var o=a(t),d=String(this);if(!o.global)return l(o,d);var c=o.unicode;o.lastIndex=0;var p,h=[],u=0;while(null!==(p=l(o,d))){var f=String(p[0]);h[u]=f,""===f&&(o.lastIndex=r(d,n(o.lastIndex),c)),u++}return 0===u?null:h}]}))},5017:function(t,e,i){"use strict";i("831e")},"831e":function(t,e,i){},"9f7c":function(t,e,i){"use strict";i("e075")},a15b:function(t,e,i){"use strict";var s=i("23e7"),a=i("44ad"),n=i("fc6a"),o=i("a640"),r=[].join,l=a!=Object,d=o("join",",");s({target:"Array",proto:!0,forced:l||!d},{join:function(t){return r.call(n(this),void 0===t?",":t)}})},b2c7:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"radio-model",class:{"is-disabled":t.disabled}},[i("span",{staticClass:"radio_input",class:{"is-checked":t.model===t.label}},[i("span",{staticClass:"radio__inner"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{type:"radio",disabled:t.disabled,name:t.name},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{change:[function(e){t.model=t.label},t.handleChange]}})]),i("span",{staticClass:"radio__label",on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.isEmpty?"":t.label))]],2)])},a=[],n={name:"radioComponent",props:{label:{type:String,default:""},disabled:{type:Boolean,default:!1},name:String,value:{},isEmpty:{type:Boolean,default:!1}},computed:{model:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{handleChange:function(){var t=this;this.$nextTick((function(){t.$emit("change",t.model)}))}}},o=n,r=(i("9f7c"),i("2877")),l=Object(r["a"])(o,s,a,!1,null,null,null);e["a"]=l.exports},c8d8:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-setting"},[i("div",{staticClass:"setting-model"},[i("h3",{staticClass:"setting-model-title"},[t._v("Interface Settings")]),i("table",{staticClass:"table"},[t._m(0),i("tbody",[i("tr",[i("th",[t._v("Stream")]),i("th",[t._v("Media")]),i("th",[t._v("N/A")]),i("th",[t._v("N/A")]),i("th",[i("v-switch",{staticStyle:{width:"120px"},attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.ipMode0,callback:function(e){t.ipMode0=e},expression:"ipMode0"}})],1),i("th",[i("div",{staticStyle:{position:"relative"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipInfo0[0],expression:"ipInfo0[0]"}],staticClass:"setting-text",staticStyle:{width:"140px"},attrs:{type:"text",disabled:"1"===t.ipMode0},domProps:{value:t.ipInfo0[0]},on:{input:function(e){e.target.composing||t.$set(t.ipInfo0,0,e.target.value)}}}),2===t.ipInfo0Error?i("span",{staticClass:"range-alert",staticStyle:{top:"36px","white-space":"nowrap"}},[t._v("Please enter a valid address")]):t._e()])]),i("th",[i("div",{staticStyle:{position:"relative"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipInfo0[1],expression:"ipInfo0[1]"}],staticClass:"setting-text",staticStyle:{width:"140px"},attrs:{type:"text",disabled:"1"===t.ipMode0},domProps:{value:t.ipInfo0[1]},on:{input:function(e){e.target.composing||t.$set(t.ipInfo0,1,e.target.value)}}}),2===t.ipInfo0Error?i("span",{staticClass:"range-alert",staticStyle:{top:"36px","white-space":"nowrap"}},[t._v("Please enter a valid address")]):t._e()])]),i("th",[i("div",{staticStyle:{position:"relative"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipInfo0[2],expression:"ipInfo0[2]"}],staticClass:"setting-text",staticStyle:{width:"140px"},attrs:{type:"text",disabled:"1"===t.ipMode0},domProps:{value:t.ipInfo0[2]},on:{input:function(e){e.target.composing||t.$set(t.ipInfo0,2,e.target.value)}}}),3===t.ipInfo0Error?i("span",{staticClass:"range-alert",staticStyle:{top:"36px","white-space":"nowrap"}},[t._v("Please enter a valid address")]):t._e()])])]),i("tr",[i("th",[t._v("P3K & Gateway")]),i("th",[i("el-select",{staticStyle:{width:"100px"},attrs:{disabled:"1"===t.daisyChain},model:{value:t.configPort0,callback:function(e){t.configPort0=e},expression:"configPort0"}},[i("el-option",{attrs:{value:"0",label:"Media"}}),i("el-option",{attrs:{value:"1",label:"Service"}})],1)],1),i("th",[i("v-switch",{staticStyle:{width:"120px"},attrs:{disabled:"1"===t.daisyChain},model:{value:t.p3k802Q,callback:function(e){t.p3k802Q=e},expression:"p3k802Q"}})],1),i("th",[i("el-input-number",{staticStyle:{width:"80px"},attrs:{disabled:!t.p3k802Q||"1"===t.daisyChain,"controls-position":"right",max:4093,min:2},model:{value:t.danteTag1,callback:function(e){t.danteTag1=e},expression:"danteTag1"}})],1),i("th",[i("v-switch",{staticStyle:{width:"120px"},attrs:{"active-value":"1",disabled:"0"===t.configPort0&&!t.p3k802Q||"1"===t.daisyChain,"inactive-value":"0"},model:{value:t.ipMode1,callback:function(e){t.ipMode1=e},expression:"ipMode1"}})],1),i("th",[i("div",{staticStyle:{position:"relative"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipInfo1[0],expression:"ipInfo1[0]"}],staticClass:"setting-text",staticStyle:{width:"140px"},attrs:{type:"text",disabled:"1"===t.ipMode1||"0"===t.configPort0&&!t.p3k802Q||"1"===t.daisyChain},domProps:{value:t.ipInfo1[0]},on:{input:function(e){e.target.composing||t.$set(t.ipInfo1,0,e.target.value)}}}),2!==t.ipInfo1Error||"0"===this.configPort0&&!this.p3k802Q?t._e():i("span",{staticClass:"range-alert",staticStyle:{top:"36px","white-space":"nowrap"}},[t._v("Please enter a valid address")])])]),i("th",[i("div",{staticStyle:{position:"relative"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipInfo1[1],expression:"ipInfo1[1]"}],staticClass:"setting-text",staticStyle:{width:"140px"},attrs:{type:"text",disabled:"1"===t.ipMode1||"0"===t.configPort0&&!t.p3k802Q||"1"===t.daisyChain},domProps:{value:t.ipInfo1[1]},on:{input:function(e){e.target.composing||t.$set(t.ipInfo1,1,e.target.value)}}}),1!==t.ipInfo1Error||"0"===this.configPort0&&!this.p3k802Q?t._e():i("span",{staticClass:"range-alert",staticStyle:{top:"36px","white-space":"nowrap"}},[t._v("Please enter a valid address")])])]),i("th",[i("div",{staticStyle:{position:"relative"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipInfo1[2],expression:"ipInfo1[2]"}],staticClass:"setting-text",staticStyle:{width:"140px"},attrs:{type:"text",disabled:"1"===t.ipMode1||"0"===t.configPort0&&!t.p3k802Q||"1"===t.daisyChain},domProps:{value:t.ipInfo1[2]},on:{input:function(e){e.target.composing||t.$set(t.ipInfo1,2,e.target.value)}}}),3!==t.ipInfo1Error||"0"===this.configPort0&&!this.p3k802Q?t._e():i("span",{staticClass:"range-alert",staticStyle:{top:"36px","white-space":"nowrap"}},[t._v("Please enter a valid address")])])])])])])]),i("div",{staticClass:"setting"},[i("div",{staticClass:"radio-setting",staticStyle:{"margin-bottom":"0"}},[i("span",{staticClass:"setting-model-title"},[t._v("Daisy Chain")]),i("v-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:t.daisyChainChange},model:{value:t.daisyChain,callback:function(e){t.daisyChain=e},expression:"daisyChain"}})],1)]),i("div",{staticClass:"setting"},[i("div",{staticClass:"radio-setting",staticStyle:{"margin-bottom":"0"}},[i("span",{staticClass:"setting-model-title"},[t._v("IP Casting Mode")]),i("div",[i("radio-component",{attrs:{label:"1"},model:{value:t.castMode,callback:function(e){t.castMode=e},expression:"castMode"}},[t._v("Unicast ")]),i("radio-component",{attrs:{label:"2"},model:{value:t.castMode,callback:function(e){t.castMode=e},expression:"castMode"}},[t._v("Multicast ")])],1)])]),i("div",{staticClass:"setting"},[i("span",{staticClass:"setting-title"},[t._v("TTL")]),i("div",{staticClass:"setting-title"},[i("el-input-number",{attrs:{"controls-position":"right",max:255,min:1,disabled:"1"==t.castMode},model:{value:t.ttl,callback:function(e){t.ttl=e},expression:"ttl"}})],1)]),i("div",{staticClass:"setting-model"},[i("h3",{staticClass:"setting-model-title"},[t._v("TCP/UDP Management")]),i("div",{staticClass:"setting"},[i("span",{staticClass:"setting-title"},[t._v("TCP Port")]),i("el-input-number",{attrs:{"controls-position":"right",max:5099,min:5e3},model:{value:t.tcp,callback:function(e){t.tcp=e},expression:"tcp"}})],1),i("div",{staticClass:"setting"},[i("span",{staticClass:"setting-title"},[t._v("UDP Port")]),i("el-input-number",{attrs:{"controls-position":"right",min:5e4,max:50999},model:{value:t.udp,callback:function(e){t.udp=e},expression:"udp"}})],1)]),i("footer",[i("button",{staticClass:"btn btn-primary",on:{click:t.save}},[t._v("SAVE ")])]),i("el-dialog",{attrs:{title:"RESTART",visible:t.dialogVisibleReset,width:"500px"},on:{"update:visible":function(e){t.dialogVisibleReset=e}}},[i("p",{staticClass:"dialog-second-title"},[t._v("Restart for new settings to take effect. ")]),i("p",{staticClass:"dialog-second-title"},[t._v("Do you want to restart now?")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("button",{staticClass:"btn btn-primary",on:{click:function(e){t.dialogVisibleReset=!1,t.restart()}}},[t._v("RESTART")]),i("button",{staticClass:"btn btn-primary",on:{click:function(e){t.dialogVisibleReset=!1}}},[t._v("LATER")])])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Service Name")]),i("th",[t._v("Port")]),i("th",[t._v("802.1Q")]),i("th",[t._v("VLAN Tag")]),i("th",[t._v("DHCP")]),i("th",[t._v("IP Address")]),i("th",[t._v("Mask Address")]),i("th",[t._v("Gateway Address")])])])}],n=(i("ac1f"),i("841c"),i("1276"),i("466d"),i("a15b"),i("b2c7"));function o(t,e,i){return r(e)?!c(t)||p(t,e)?2:u(i)?t===i?4:h(t,e,i)?0:5:3:1}function r(t){var e=0,i=0,s=0,a=0,n=!1;if("0.0.0.0"===t)return!1;var o=t.split(".");if(4!==o.length)return!1;for(e=0;e<4;e++){if(!0===isNaN(o[e]))return!1;if(i=parseInt(o[e]),i<0||i>255)return!1;if(!0===n&&0!==i)return!1;if(s=l(i),a=d(i),s<a)return!1;s<8&&(n=!0)}return!0}function l(t){var e=0,i=[128,64,32,16,8,4,2,1];for(e=0;e<i.length;e++)if(0===(t&i[e]))return e;return i.length}function d(t){var e=0,i=[1,2,4,8,16,32,64,128];for(e=0;e<i.length;e++)if((t&i[e])>>e===1)return i.length-e-1;return-1}function c(t){var e=t.split("/");if(e.length>2)return!1;if(2===e.length){var i=parseInt(e[1]);if(i<=0||i>32)return!1}if("0.0.0.0"===e[0]||"255.255.255.255"===e[0])return!1;var s=e[0].split(".");if(4!==s.length)return!1;for(var a=0;a<4;a++){if(isNaN(s[a])||""===s[a])return!1;var n=parseInt(s[a]);if(n<0||n>255)return!1}return!0}function p(t,e){var i=0,s=e.split("."),a=t.split(".");if(parseInt(a[0])>223||127===parseInt(a[0]))return!0;for(i=0;i<4;i++)if(parseInt(s[i])<255)break;var n=parseInt(a[i]),o=255-parseInt(s[i]),r=n&o;if(0!==r&&r!==o)return!1;if(3===i)return!0;if(2===i){if(0===a[3]&&0===r||255===a[3]&&r===o)return!0}else if(1===i){if(0===r&&0===a[3]&&0===a[2]||r===o&&255===a[3]&&255===a[2])return!0}else if(0===i&&(0===r&&0===a[3]&&0===a[2]&&0===a[1]||r===o&&255===a[3]&&255===a[2]&&255===a[1]))return!0;return!1}function h(t,e,i){if(u(t)&&u(e)&&u(i)){var s=t.split("."),a=e.split("."),n=i.split("."),o=[],r=[],l=[];return o[0]=255&parseInt(s[0]),o[1]=255&parseInt(s[1]),o[2]=255&parseInt(s[2]),o[3]=255&parseInt(s[3]),l[0]=255&parseInt(n[0]),l[1]=255&parseInt(n[1]),l[2]=255&parseInt(n[2]),l[3]=255&parseInt(n[3]),r[0]=255&parseInt(a[0]),r[1]=255&parseInt(a[1]),r[2]=255&parseInt(a[2]),r[3]=255&parseInt(a[3]),!(o[3]&0===~r[3]||o[3]&255===~r[3])&&((o[0]&r[0])===(l[0]&r[0])&&(o[1]&r[1])===(l[1]&r[1])&&(o[2]&r[2])===(l[2]&r[2])&&(o[3]&r[3])===(l[3]&r[3])||"0.0.0.0"===i)}return!1}function u(t){var e=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return e.test(t)}var f=o,v=i("2ef0"),g={name:"autoSwitch",components:{radioComponent:n["a"]},data:function(){return{dialogVisibleReset:!1,port1:"1",port2:"1",ipMode0:"0",ipMode1:"0",ipInfo0:[],ipInfo1:[],configPort0:"0",configPort1:"0",configPort2:"0",danteTag:"",tcp:"5000",serverTcpPort:5e3,udp:5e4,castMode:"1",multicastAddress:"0,0,0,0",ttl:64,danteTag1:2,danteTag2:2,danteTag3:1,p3k802Q:!1,dante802Q:!1,daisyChain:"0",ipInfo0Error:0,ipInfo1Error:0,setIpFlag:!1}},created:function(){this.$socket.setCallback(this.handleMsg),this.$socket.sendMsg("#KDS-DAISY-CHAIN? "),this.$socket.sendMsg("#NET-DHCP? 0"),this.$socket.sendMsg("#NET-DHCP? 1"),this.$socket.sendMsg("#NET-CONFIG? 0"),this.$socket.sendMsg("#NET-CONFIG? 1"),this.$socket.sendMsg("#KDS-GW-ETH? 0"),this.$socket.sendMsg("#KDS-VLAN-TAG? 0"),this.$socket.sendMsg("#KDS-METHOD? "),this.$socket.sendMsg("#KDS-MULTICAST? "),this.$socket.sendMsg("#ETH-PORT? TCP"),this.$socket.sendMsg("#ETH-PORT? UDP")},methods:{handleMsg:function(t){-1===t.search(/@NET-DHCP /i)?-1===t.search(/@NET-CONFIG /i)?-1===t.search(/@KDS-GW-ETH /i)?-1===t.search(/@KDS-METHOD /i)?-1===t.search(/@KDS-MULTICAST /i)?-1===t.search(/@ETH-PORT /i)?-1===t.search(/@KDS-VLAN-TAG /i)?-1!==t.search(/@KDS-DAISY-CHAIN /i)&&(this.daisyChain=t.split(" ").pop()):this.handleDanteTag(t):this.handleETHPort(t):this.handleMulticast(t):this.handleIpCastMode(t):this.handlePortConfig(t):this.handleIP(t):this.handleIPMode(t)},handleIPMode:function(t){var e=t.split(" ")[1].split(","),i="1"===e[1]?e[1]:"0";this["ipMode"+e[0]]=i,this.setIpFlag&&(this.setIpFlag=!1,this.dialogVisibleReset=!0)},handleIP:function(t){var e=t.split(" ")[1],i="ipInfo"+e[0],s=[],a=/(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)/g,n=e.match(a);s.push(n[0]||""),s.push(n[1]||""),s.push(n[2]||""),this[i]=s},handlePortConfig:function(t){var e=t.split(" ")[1].split(",");this["configPort"+e[0]]=e[1]},handleETHPort:function(t){var e=t.toLowerCase().split(" ")[1].split(",");this[e[0]]=parseInt(e[1])},handleIpCastMode:function(t){this.castMode=t.split(" ")[1]},handleMulticast:function(t){var e=t.split(" ")[1].split(",");this.ttl=parseInt(e[1])},handleDanteTag:function(t){var e=t.split(" ")[1].split(",");if("0"===e[0]){var i=parseInt(e[1]);this.p3k802Q=1!==i,1!==i&&(this.danteTag1=i)}else if("1"===e[0]){var s=parseInt(e[1]);this.dante802Q=1!==s,1!==s&&(this.danteTag2=s)}},save:Object(v["debounce"])((function(){this.validIP()&&(this.$socket.sendMsg("#KDS-DAISY-CHAIN "+this.daisyChain),this.setPortConfig(),this.setIpCastingMode(),this.setTcpUDP(),this.setIp())}),2e3,{leading:!0,trailing:!0}),setPortConfig:function(){"0"===this.daisyChain&&(this.$socket.sendMsg("#KDS-GW-ETH 0,"+this.configPort0),this.$socket.sendMsg("#KDS-VLAN-TAG 0,"+(this.p3k802Q?this.danteTag1:1)))},setIpCastingMode:function(){this.$socket.sendMsg("#KDS-METHOD "+this.castMode),"2"===this.castMode&&this.$socket.sendMsg("#KDS-MULTICAST 225.225.0.10,".concat(this.ttl))},setTcpUDP:function(){this.$socket.sendMsg("#ETH-PORT TCP,"+this.tcp),this.$socket.sendMsg("#ETH-PORT UDP,"+this.udp)},setIp:function(){this.setIpFlag=!0,"1"!==this.ipMode0?(this.$socket.sendMsg("#NET-DHCP 0,0"),this.$socket.sendMsg("#NET-CONFIG 0,"+this.ipInfo0.join(","))):this.$socket.sendMsg("#NET-DHCP 0,1"),("0"!==this.configPort0||this.p3k802Q)&&"0"===this.daisyChain&&("1"!==this.ipMode1?(this.$socket.sendMsg("#NET-DHCP 1,0"),this.$socket.sendMsg("#NET-CONFIG 1,"+this.ipInfo1.join(","))):this.$socket.sendMsg("#NET-DHCP 1,1"))},daisyChainChange:function(t){"1"===t&&(this.configPort0="0")},validIP:function(){return this.ipInfo0Error=0,this.ipInfo1Error=0,("1"===this.ipMode0||(this.ipInfo0Error=this.isValidIP(this.ipInfo0[0],this.ipInfo0[1],this.ipInfo0[2]),4===this.ipInfo0Error&&alert("The IP address of Eth0 cannot be the same as the gateway address"),5===this.ipInfo0Error&&alert("The gateway address of Eth0 is not at the same network(subnet), which is defined on basis of IP address and mask address."),0===this.ipInfo0Error))&&(("0"===this.configPort0&&!this.p3k802Q||"0"!==this.daisyChain||"1"===this.ipMode1||(this.ipInfo1Error=this.isValidIP(this.ipInfo1[0],this.ipInfo1[1],this.ipInfo1[2]),4===this.ipInfo1Error&&alert("The IP address of Eth1 cannot be the same as the gateway address"),5===this.ipInfo1Error&&alert("The gateway address of Eth1 is not at the same network(subnet), which is defined on basis of IP address and mask address."),0===this.ipInfo1Error))&&(this.ipInfo0Error=0,this.ipInfo1Error=0,!0))},isValidIP:function(t,e,i){return f(t,e,i)},restart:function(){this.$socket.sendMsg("#RESET"),this.dialogVisibleReset=!1,sessionStorage.removeItem("login")}}},I=g,m=(i("5017"),i("2877")),C=Object(m["a"])(I,s,a,!1,null,"f7022398",null);e["default"]=C.exports},e075:function(t,e,i){}}]);