(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05fef47a"],{"09c6":function(t,e,a){},"2a96":function(t,e,a){"use strict";a("09c6")},"466d":function(t,e,a){"use strict";var i=a("d784"),n=a("825a"),s=a("50c4"),l=a("1d80"),o=a("8aa5"),r=a("14c3");i("match",1,(function(t,e,a){return[function(e){var a=l(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,a):new RegExp(e)[t](String(a))},function(t){var i=a(e,t,this);if(i.done)return i.value;var l=n(t),c=String(this);if(!l.global)return r(l,c);var d=l.unicode;l.lastIndex=0;var u,h=[],g=0;while(null!==(u=r(l,c))){var v=String(u[0]);h[g]=v,""===v&&(l.lastIndex=o(c,s(l.lastIndex),d)),g++}return 0===g?null:h}]}))},"4df4":function(t,e,a){"use strict";var i=a("0366"),n=a("7b0b"),s=a("9bdd"),l=a("e95a"),o=a("50c4"),r=a("8418"),c=a("35a1");t.exports=function(t){var e,a,d,u,h,g,v=n(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,b=void 0!==m,_=c(v),y=0;if(b&&(m=i(m,p>2?arguments[2]:void 0,2)),void 0==_||f==Array&&l(_))for(e=o(v.length),a=new f(e);e>y;y++)g=b?m(v[y],y):v[y],r(a,y,g);else for(u=_.call(v),h=u.next,a=new f;!(d=h.call(u)).done;y++)g=b?s(u,m,[d.value,y],!0):d.value,r(a,y,g);return a.length=y,a}},"86a9":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sort-model"},t._l(t.model,(function(e,i){return a("div",{key:e,staticClass:"list-group-item",class:[{disabled:t.disabled}]},[0===i&&t.model.length>1?a("span",{staticClass:"sort-title"},[t._v("High")]):t._e(),i===t.model.length-1&&t.model.length>1?a("span",{staticClass:"sort-title"},[t._v("Low")]):t._e(),t.disabled?a("div",{staticClass:"sort-source",attrs:{draggable:"false"}},[t._v(" "+t._s(t.listMap[e])+" ")]):a("div",{staticClass:"sort-source",class:[{active:t.dragIndex===i},{"drag-enter":t.dragEnterIndex===i}],attrs:{draggable:"true"},on:{dragend:function(e){t.dragEnterIndex=-1,t.dragIndex=-1},dragenter:function(e){return t.dragEnter(i)},dragleave:function(e){t.dragEnterIndex=-1},dragstart:function(e){return t.dragStart(e,i)},dragover:t.allowDrop,drop:function(e){return t.drop(e,i)}}},[t._v(" "+t._s(t.listMap[e])+" ")])])})),0)},n=[];function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function l(t){if(Array.isArray(t))return s(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}a("fb6a"),a("b0c0");function r(t,e){if(t){if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(t,e):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t){return l(t)||o(t)||r(t)||c()}a("a434"),a("99af");var u={name:"customSort",props:{disabled:{type:Boolean,default:!1},listMap:{type:Object,default:{}},value:{}},data:function(){return{dragIndex:-1,dragEnterIndex:-1}},computed:{model:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{dragEnter:function(t){t!==this.dragIndex&&(this.dragEnterIndex=t)},allowDrop:function(t){t.preventDefault()},drop:function(t,e){this.allowDrop(t);var a=this.dragIndex;if(this.dragIndex=-1,this.dragEnterIndex=-1,e!==this.dragIndex){var i=this.value;i.splice.apply(i,[a,1].concat(d(i.splice(e,1,i[a])))),this.$emit("input",i)}},dragStart:function(t,e){this.dragIndex=e}}},h=u,g=(a("b323"),a("2877")),v=Object(g["a"])(h,i,n,!1,null,"2855a336",null);e["a"]=v.exports},"9bdd":function(t,e,a){var i=a("825a"),n=a("2a62");t.exports=function(t,e,a,s){try{return s?e(i(a)[0],a[1]):e(a)}catch(l){throw n(t),l}}},a15b:function(t,e,a){"use strict";var i=a("23e7"),n=a("44ad"),s=a("fc6a"),l=a("a640"),o=[].join,r=n!=Object,c=l("join",",");i({target:"Array",proto:!0,forced:r||!c},{join:function(t){return o.call(s(this),void 0===t?",":t)}})},a434:function(t,e,a){"use strict";var i=a("23e7"),n=a("23cb"),s=a("a691"),l=a("50c4"),o=a("7b0b"),r=a("65f0"),c=a("8418"),d=a("1dde"),u=d("splice"),h=Math.max,g=Math.min,v=9007199254740991,f="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var a,i,d,u,p,m,b=o(this),_=l(b.length),y=n(t,_),w=arguments.length;if(0===w?a=i=0:1===w?(a=0,i=_-y):(a=w-2,i=g(h(s(e),0),_-y)),_+a-i>v)throw TypeError(f);for(d=r(b,i),u=0;u<i;u++)p=y+u,p in b&&c(d,u,b[p]);if(d.length=i,a<i){for(u=y;u<_-i;u++)p=u+i,m=u+a,p in b?b[m]=b[p]:delete b[m];for(u=_;u>_-i+a;u--)delete b[u-1]}else if(a>i)for(u=_-i;u>y;u--)p=u+i-1,m=u+a-1,p in b?b[m]=b[p]:delete b[m];for(u=0;u<a;u++)b[u+y]=arguments[u+2];return b.length=_-i+a,d}})},a630:function(t,e,a){var i=a("23e7"),n=a("4df4"),s=a("1c7e"),l=!s((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:l},{from:n})},b323:function(t,e,a){"use strict";a("d109")},b51b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-setting"},[a("div",{staticClass:"setting-model"},[a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Switching Mode")]),a("el-select",{on:{change:t.setSwitchMode},model:{value:t.switchMode.val,callback:function(e){t.$set(t.switchMode,"val",e)},expression:"switchMode.val"}},t._l(t.switchMode.param,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("custom-sort",{attrs:{listMap:t.listMap,disabled:"1"!==t.switchMode.val},model:{value:t.lists,callback:function(e){t.lists=e},expression:"lists"}}),a("div",{staticClass:"setting",staticStyle:{"margin-top":"25px"}},[a("span",{staticClass:"setting-title"},[t._v("Signal Loss Switching Delay (sec)")]),a("el-input-number",{attrs:{disabled:"0"===t.switchMode.val,"controls-position":"right",max:90,min:5},model:{value:t.delay.signal_loss_switching,callback:function(e){t.$set(t.delay,"signal_loss_switching",e)},expression:"delay.signal_loss_switching"}})],1),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Signal Detection Delay (sec)")]),a("el-input-number",{attrs:{disabled:"0"===t.switchMode.val,"controls-position":"right",max:90,min:0},model:{value:t.delay.signal_detection,callback:function(e){t.$set(t.delay,"signal_detection",e)},expression:"delay.signal_detection"}})],1),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Cable Plug Delay (sec)")]),a("el-input-number",{attrs:{disabled:"0"===t.switchMode.val,"controls-position":"right",max:90,min:0},model:{value:t.delay.cable_plugin,callback:function(e){t.$set(t.delay,"cable_plugin",e)},expression:"delay.cable_plugin"}})],1),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Cable Unplug Delay (sec)")]),a("el-input-number",{attrs:{disabled:"0"===t.switchMode.val,"controls-position":"right",max:90,min:0},model:{value:t.delay.cable_unplug,callback:function(e){t.$set(t.delay,"cable_unplug",e)},expression:"delay.cable_unplug"}})],1),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Signal Loss Switching Power Off Delay (sec)")]),a("el-input-number",{attrs:{disabled:"0"===t.switchMode.val,"controls-position":"right",max:6e4,min:5},model:{value:t.delay.power_off_upon_signal_loss,callback:function(e){t.$set(t.delay,"power_off_upon_signal_loss",e)},expression:"delay.power_off_upon_signal_loss"}})],1),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Signal Loss Switching Manual Override Delay (sec)")]),a("el-input-number",{attrs:{disabled:"0"===t.switchMode.val,"controls-position":"right",max:90,min:5},model:{value:t.delay.manual_override_inactive_signal,callback:function(e){t.$set(t.delay,"manual_override_inactive_signal",e)},expression:"delay.manual_override_inactive_signal"}})],1)],1),a("footer",[a("button",{staticClass:"btn btn-primary",on:{click:t.saveAutoSwitch}},[t._v("SAVE")])])])},n=[],s=(a("498a"),a("ac1f"),a("841c"),a("1276"),a("5319"),a("466d"),a("a15b"),a("2ef0")),l=a("86a9"),o={name:"videoPage",components:{customSort:l["a"]},data:function(){return{lists:["in.hdmi.1.video","in.hdmi.2.video","in.usb_c.3.video"],listMap:{"in.hdmi.1.video":"HDMI IN1","in.hdmi.2.video":"HDMI IN2","in.usb_c.3.video":"USB IN3","in.usb_c.2.video":"USB IN2"},switchMode:{val:"0",param:[{value:"2",label:"Last Connected"},{value:"1",label:"Priority"},{value:"0",label:"Manual"}]},playStop:"play",delay:{cable_plugin:0,cable_unplug:0,manual_override_inactive_signal:10,power_off_upon_signal_loss:10,signal_detection:0,signal_loss_switching:10}}},beforeCreate:function(){var t=this;this.$socket.ws.onmessage=function(e){t.handleMsg(e.data.trim())}},created:function(){this.$socket.sendMsg("#X-AV-SW-MODE? out.hdmi.1.video.1"),this.$socket.sendMsg("#X-PRIORITY? out.stream.1.video"),this.getAutoSwitchDelay()},mounted:function(){},methods:{handleMsg:function(t){console.log(t),-1===t.search(/@X-AV-SW-MODE /i)?-1!==t.search(/@X-PRIORITY /i)&&this.handleSwitchPriority(t):this.handleSwitchMode(t)},handleSwitchMode:function(t){if(-1!==t.search(/video/g)){var e=t.split(",");this.switchMode.val=e[e.length-1]}},setSwitchMode:function(t){this.$socket.sendMsg("#X-AV-SW-MODE out.hdmi.1.video.1,".concat(t))},getAutoSwitchDelay:function(){var t=this;this.$http.get("/device/json?path=/switch/auto_switch_delays.json&t="+Math.random()).then((function(e){e.data.auto_switch_delays&&(t.delay=e.data.auto_switch_delays)}))},setAutoSwitchDelay:function(){this.$http.post("/device/json",{path:"/switch/auto_switch_delays.json",info:{auto_switch_delays:this.delay}})},handleSwitchPriority:function(t){-1!==t.search(/video/g)&&(this.lists=t.match(/[^([]+(?=\])/g)[0].replace(/\s/g,"").split(","))},saveAutoSwitch:Object(s["debounce"])((function(){this.$socket.sendMsg("#X-AV-SW-MODE out.hdmi.1.video.1,".concat(this.switchMode.val)),"0"!==this.switchMode.val&&(this.$socket.sendMsg("#X-PRIORITY out.stream.1.video,[".concat(this.lists.join(","),"]")),this.setAutoSwitchDelay())}),2e3,{leading:!0,trailing:!0})}},r=o,c=(a("2a96"),a("2877")),d=Object(c["a"])(r,i,n,!1,null,"147a7f9c",null);e["default"]=d.exports},d109:function(t,e,a){}}]);