(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0585d592"],{1554:function(e,t,a){},3791:function(e,t,a){"use strict";a("69b6")},"3de2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-setting"},[a("div",{staticClass:"setting-model",staticStyle:{"margin-bottom":"0"}},[2!==this.$global.deviceType?a("div",{staticClass:"radio-setting"},[a("span",{staticClass:"setting-title"},[e._v("Analog Audio Direction IN/OUT")]),a("div",[a("radio-component",{attrs:{label:"in"},on:{change:e.changeAudioDirection},model:{value:e.direction,callback:function(t){e.direction=t},expression:"direction"}},[e._v("IN ")]),a("radio-component",{attrs:{label:"out"},on:{change:e.changeAudioDirection},model:{value:e.direction,callback:function(t){e.direction=t},expression:"direction"}},[e._v("OUT ")])],1)]):e._e(),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[e._v("Audio Source Mode")]),a("multiselect",{attrs:{options:e.audioMode.param},model:{value:e.audioMode.val,callback:function(t){e.$set(e.audioMode,"val",t)},expression:"audioMode.val"}})],1),a("custom-sort",{attrs:{listMap:e.listMap,disabled:"1"!==e.audioMode.val},model:{value:e.lists,callback:function(t){e.lists=t},expression:"lists"}}),1===this.$global.deviceType?a("div",{staticClass:"setting",staticStyle:{"margin-top":"25px"}},[a("span",{staticClass:"setting-title"},[e._v("Audio Source Selection")]),a("multiselect",{attrs:{disabled:"0"!==e.audioMode.val,options:e.audioSource.param},model:{value:e.audioSource.val,callback:function(t){e.$set(e.audioSource,"val",t)},expression:"audioSource.val"}})],1):a("div",{staticClass:"setting",staticStyle:{"margin-top":"25px"}},[a("span",{staticClass:"setting-title"},[e._v("Audio Source Selection")]),a("multiselect",{attrs:{disabled:"0"!==e.audioMode.val,options:e.audioSource.encoderParam},model:{value:e.audioSource.val,callback:function(t){e.$set(e.audioSource,"val",t)},expression:"audioSource.val"}})],1),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[e._v("Audio Connection Guard Time (sec)")]),a("el-input-number",{attrs:{"controls-position":"right",max:90,min:0},model:{value:e.avSignal.audio_connection_guard_time_sec,callback:function(t){e.$set(e.avSignal,"audio_connection_guard_time_sec",t)},expression:"avSignal.audio_connection_guard_time_sec"}})],1),1===this.$global.deviceType?a("div",{staticClass:"setting-model"},[a("h3",{staticClass:"setting-title"},[e._v("Audio Destination")]),e._l(e.audioDestinationDesc,(function(t,i){return a("div",{key:t.name,staticStyle:{"margin-bottom":"15px"}},[1!==i||"in"!==e.direction?a("checkbox-component",{attrs:{label:t,"active-value":1,"inactive-value":0},model:{value:e.audioDestination[i],callback:function(t){e.$set(e.audioDestination,i,t)},expression:"audioDestination[index]"}}):e._e()],1)}))],2):e._e(),1===this.$global.deviceType?a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[e._v("Dante/AES-67 Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.danteName,expression:"danteName"}],staticClass:"setting-text",attrs:{type:"text",maxlength:"32"},domProps:{value:e.danteName},on:{input:function(t){t.target.composing||(e.danteName=t.target.value)}}})]):e._e()],1),a("footer",[a("button",{staticClass:"btn btn-primary",on:{click:e.save}},[e._v("SAVE ")])])])},n=[],o=(a("498a"),a("ac1f"),a("841c"),a("1276"),a("5319"),a("466d"),a("a434"),a("159b"),a("a15b"),a("fb6a"),a("2ef0")),s=a("86a9"),l=a("b2c7"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"checkbox",class:{"is-checked":e.checked,isDisabled:e.disabled},on:{click:e.changeVal}},[a("span",{staticClass:"checkbox-input",class:{"is-checked":e.checked}},[a("span",{staticClass:"checkbox-inner"}),a("span",{staticClass:"checkbox-inner-label"},[e._v(e._s(e.label))])])])},d=[],r=(a("a9e3"),{name:"checkBox",props:{label:{type:String,default:""},disabled:{type:Boolean,default:!1},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},value:{}},data:function(){return{}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},checked:function(){return this.value===this.activeValue}},methods:{changeVal:function(){if(!this.disabled){var e=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",e),this.$emit("click",e)}}},watch:{checked:function(e){this.isChecked=e}}}),u=r,h=(a("3791"),a("2877")),v=Object(h["a"])(u,c,d,!1,null,null,null),g=v.exports,f={name:"auto-switch",components:{radioComponent:l["a"],customSort:s["a"],checkboxComponent:g},data:function(){return{direction:"in",audioMode:{val:"2",param:[{value:"2",label:"Last Connected"},{value:"1",label:"Priority"},{value:"0",label:"Manual"}]},audioSource:{val:"0",param:[{value:"0",label:"HDMI"},{value:"1",label:"Analog"},{value:"2",label:"None"},{value:"4",label:"Dante"}],encoderParam:[{value:"0",label:"HDMI"},{value:"1",label:"Analog"},{value:"2",label:"None"}]},playStop:"play",lists:[],lists_bak:["in.dante.1.audio","in.analog_audio.1.audio","in.hdmi.1.audio"],listMap:{"in.dante.1.audio":"Dante","in.analog_audio.1.audio":"Analog","in.hdmi.1.audio":"HDMI"},guardTime:"5",audioDestination:[0,0,0,0],audioDestinationDesc:["HDMI","Analog","LAN","Dante"],audioDestinationDesc2:["HDMI","Analog","HDMI & LAN","Dante"],avSignal:{audio_connection_guard_time_sec:90,color_depth:"bypass",force_rgb:"off",frame_rate_percentage:100,input_maximum_resolution:"pass_through",maximum_bit_rate:"best_effort"},danteName:""}},beforeCreate:function(){var e=this;this.$socket.ws.onmessage=function(t){e.handleMsg(t.data.trim())}},created:function(){this.$socket.sendMsg("#PORT-DIRECTION? both.analog.1.audio"),this.$socket.sendMsg("#X-AV-SW-MODE? out.hdmi.1.audio.1"),this.$socket.sendMsg("#X-PRIORITY? out.hdmi.1.audio"),this.getAVSignal(),1===this.$global.deviceType&&this.$socket.sendMsg("#KDS-AUD-OUTPUT? "),this.$global.deviceType&&this.$socket.sendMsg("#NAME? 1"),2!==this.$global.deviceType&&this.$socket.sendMsg("#PORT-DIRECTION? both.analog.1.audio"),this.$socket.sendMsg("#KDS-AUD? ")},methods:{handleMsg:function(e){-1===e.search(/@PORT-DIRECTION /i)?-1===e.search(/@X-AV-SW-MODE /i)?-1===e.search(/@X-PRIORITY /i)?-1===e.search(/@KDS-AUD-OUTPUT /i)?-1===e.search(/@NAME /i)?-1!==e.search(/@KDS-AUD /i)&&(this.audioSource.val=e.split(" ").pop()):this.handleDanteName(e):this.handleAudioDestination(e):this.handleSwitchPriority(e):this.audioSwitchMode(e):this.handleDirection(e)},handleDirection:function(e){-1!==e.search(/audio/i)&&(this.direction=e.split(",")[1].toLowerCase(),this.checkAudioSourceSelect())},checkAudioSourceSelect:function(){this.$global.deviceType?"out"===this.direction?this.audioSource.param=[{value:"0",label:"HDMI"},{value:"1",label:"Analog",$isDisabled:!0},{value:"2",label:"None"},{value:"4",label:"Dante"}]:this.audioSource.param=[{value:"0",label:"HDMI"},{value:"1",label:"Analog"},{value:"2",label:"None"},{value:"4",label:"Dante"}]:"out"===this.direction?this.audioSource.encoderParam=[{value:"0",label:"HDMI"},{value:"1",label:"Analog",$isDisabled:!0},{value:"2",label:"None"}]:this.audioSource.encoderParam=[{value:"0",label:"HDMI"},{value:"1",label:"Analog"},{value:"2",label:"None"}]},audioSwitchMode:function(e){if(-1!==e.search(/audio/g)){var t=e.split(",");this.audioMode.val=t[t.length-1]}},getAVSignal:function(){var e=this;this.$http.get("/device/json?path=/av_signal/av_signal.json&t="+Math.random()).then((function(t){t.data.av_signal&&(e.avSignal=t.data.av_signal)}))},handleSwitchPriority:function(e){if(-1!==e.search(/audio/g)){var t=e.match(/[^([]+(?=])/g)[0].replace(/\s/g,"").split(",");2===this.$global.deviceType?t.indexOf("in.dante.1.audio")>-1&&t.splice(t.indexOf("in.dante.1.audio"),1):"out"===this.direction&&t.indexOf("in.analog_audio.1.audio")>-1&&t.splice(t.indexOf("in.analog_audio.1.audio"),1),this.lists=t}},handleAudioDestination:function(e){var t=[0,0,0,0],a=e.match(/[^([]+(?=])/g)?e.match(/[^([]+(?=])/g)[0].replace(/\s/g,"").split(","):[];a.forEach((function(e){t[parseInt(e)]=1})),this.audioDestination=t},setAudioDestination:function(){var e=this,t=[];this.audioDestination.forEach((function(a,i){"in"===e.direction&&1===i||1===a&&t.push(i)})),this.$socket.sendMsg("#KDS-AUD-OUTPUT [".concat(t.join(","),"]"))},setAVSingle:function(){this.$http.post("/device/json",{path:"/av_signal/av_signal.json",info:{av_signal:this.avSignal}})},handleDanteName:function(e){this.danteName=e.split(",").slice(1).join(",")},save:Object(o["debounce"])((function(){if(2!==this.$global.deviceType&&this.$socket.sendMsg("#PORT-DIRECTION both.analog.1.audio,".concat(this.direction)),this.$socket.sendMsg("#X-AV-SW-MODE out.hdmi.1.audio.1,".concat(this.audioMode.val)),this.setAVSingle(),1===this.$global.deviceType&&this.setAudioDestination(),"1"===this.audioMode.val){var e=this.lists.slice();"out"===this.direction&&this.$global.deviceType&&e.push("in.analog_audio.1.audio"),this.$socket.sendMsg("#X-PRIORITY out.hdmi.1.audio,[".concat(e.join(","),"]"))}else"0"===this.audioMode.val&&this.$socket.sendMsg("#KDS-AUD ".concat(this.audioSource.val));1===this.$global.deviceType&&this.$socket.sendMsg("#NAME 1,".concat(this.danteName))}),2e3,{leading:!0,trailing:!0}),changeAudioDirection:function(e){this.checkAudioSourceSelect(),"out"===e?-1!==this.lists.indexOf("in.analog_audio.1.audio")&&this.lists.splice(this.lists.indexOf("in.analog_audio.1.audio"),1):-1===this.lists.indexOf("in.analog_audio.1.audio")&&this.lists.push("in.analog_audio.1.audio")}}},p=f,m=(a("f308"),Object(h["a"])(p,i,n,!1,null,"10810b82",null));t["default"]=m.exports},"466d":function(e,t,a){"use strict";var i=a("d784"),n=a("825a"),o=a("50c4"),s=a("1d80"),l=a("8aa5"),c=a("14c3");i("match",1,(function(e,t,a){return[function(t){var a=s(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,a):new RegExp(t)[e](String(a))},function(e){var i=a(t,e,this);if(i.done)return i.value;var s=n(e),d=String(this);if(!s.global)return c(s,d);var r=s.unicode;s.lastIndex=0;var u,h=[],v=0;while(null!==(u=c(s,d))){var g=String(u[0]);h[v]=g,""===g&&(s.lastIndex=l(d,o(s.lastIndex),r)),v++}return 0===v?null:h}]}))},"4df4":function(e,t,a){"use strict";var i=a("0366"),n=a("7b0b"),o=a("9bdd"),s=a("e95a"),l=a("50c4"),c=a("8418"),d=a("35a1");e.exports=function(e){var t,a,r,u,h,v,g=n(e),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,b=void 0!==m,_=d(g),S=0;if(b&&(m=i(m,p>2?arguments[2]:void 0,2)),void 0==_||f==Array&&s(_))for(t=l(g.length),a=new f(t);t>S;S++)v=b?m(g[S],S):g[S],c(a,S,v);else for(u=_.call(g),h=u.next,a=new f;!(r=h.call(u)).done;S++)v=b?o(u,m,[r.value,S],!0):r.value,c(a,S,v);return a.length=S,a}},6247:function(e,t,a){"use strict";a("1554")},"69b6":function(e,t,a){},"86a9":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sort-model"},e._l(e.model,(function(t,i){return a("div",{key:t,staticClass:"list-group-item",class:[{disabled:e.disabled}]},[0===i?a("span",{staticClass:"sort-title"},[e._v("High")]):e._e(),i===e.model.length-1?a("span",{staticClass:"sort-title"},[e._v("Low")]):e._e(),e.disabled?a("div",{staticClass:"sort-source",attrs:{draggable:"false"}},[e._v(" "+e._s(e.listMap[t])+" ")]):a("div",{staticClass:"sort-source",class:[{active:e.dragIndex===i},{"drag-enter":e.dragEnterIndex===i}],attrs:{draggable:"true"},on:{dragend:function(t){e.dragEnterIndex=-1,e.dragIndex=-1},dragenter:function(t){return e.dragEnter(i)},dragleave:function(t){e.dragEnterIndex=-1},dragstart:function(t){return e.dragStart(t,i)},dragover:e.allowDrop,drop:function(t){return e.drop(t,i)}}},[e._v(" "+e._s(e.listMap[t])+" ")])])})),0)},n=[];function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function s(e){if(Array.isArray(e))return o(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function l(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}a("fb6a"),a("b0c0");function c(e,t){if(e){if("string"===typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(e,t):void 0}}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e){return s(e)||l(e)||c(e)||d()}a("a434"),a("99af");var u={name:"customSort",props:{disabled:{type:Boolean,default:!1},listMap:{type:Object,default:{}},value:{}},data:function(){return{dragIndex:-1,dragEnterIndex:-1}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{dragEnter:function(e){e!==this.dragIndex&&(this.dragEnterIndex=e)},allowDrop:function(e){e.preventDefault()},drop:function(e,t){this.allowDrop(e);var a=this.dragIndex;if(this.dragIndex=-1,this.dragEnterIndex=-1,t!==this.dragIndex){var i=this.value;i.splice.apply(i,[a,1].concat(r(i.splice(t,1,i[a])))),this.$emit("input",i)}},dragStart:function(e,t){this.dragIndex=t}}},h=u,v=(a("6247"),a("2877")),g=Object(v["a"])(h,i,n,!1,null,"92982cb6",null);t["a"]=g.exports},"8a64":function(e,t,a){},"9bdd":function(e,t,a){var i=a("825a"),n=a("2a62");e.exports=function(e,t,a,o){try{return o?t(i(a)[0],a[1]):t(a)}catch(s){throw n(e),s}}},"9f7c":function(e,t,a){"use strict";a("e075")},a15b:function(e,t,a){"use strict";var i=a("23e7"),n=a("44ad"),o=a("fc6a"),s=a("a640"),l=[].join,c=n!=Object,d=s("join",",");i({target:"Array",proto:!0,forced:c||!d},{join:function(e){return l.call(o(this),void 0===e?",":e)}})},a434:function(e,t,a){"use strict";var i=a("23e7"),n=a("23cb"),o=a("a691"),s=a("50c4"),l=a("7b0b"),c=a("65f0"),d=a("8418"),r=a("1dde"),u=r("splice"),h=Math.max,v=Math.min,g=9007199254740991,f="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var a,i,r,u,p,m,b=l(this),_=s(b.length),S=n(e,_),D=arguments.length;if(0===D?a=i=0:1===D?(a=0,i=_-S):(a=D-2,i=v(h(o(t),0),_-S)),_+a-i>g)throw TypeError(f);for(r=c(b,i),u=0;u<i;u++)p=S+u,p in b&&d(r,u,b[p]);if(r.length=i,a<i){for(u=S;u<_-i;u++)p=u+i,m=u+a,p in b?b[m]=b[p]:delete b[m];for(u=_;u>_-i+a;u--)delete b[u-1]}else if(a>i)for(u=_-i;u>S;u--)p=u+i-1,m=u+a-1,p in b?b[m]=b[p]:delete b[m];for(u=0;u<a;u++)b[u+S]=arguments[u+2];return b.length=_-i+a,r}})},a630:function(e,t,a){var i=a("23e7"),n=a("4df4"),o=a("1c7e"),s=!o((function(e){Array.from(e)}));i({target:"Array",stat:!0,forced:s},{from:n})},b2c7:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"radio-model",class:{"is-disabled":e.disabled}},[a("span",{staticClass:"radio_input",class:{"is-checked":e.model===e.label}},[a("span",{staticClass:"radio__inner"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{type:"radio",disabled:e.disabled,name:e.name},domProps:{value:e.label,checked:e._q(e.model,e.label)},on:{change:[function(t){e.model=e.label},e.handleChange]}})]),a("span",{staticClass:"radio__label",on:{keydown:function(e){e.stopPropagation()}}},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.isEmpty?"":e.label))]],2)])},n=[],o={name:"radioComponent",props:{label:{type:String,default:""},disabled:{type:Boolean,default:!1},name:String,value:{},isEmpty:{type:Boolean,default:!1}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{handleChange:function(){var e=this;this.$nextTick((function(){e.$emit("change",e.model)}))}}},s=o,l=(a("9f7c"),a("2877")),c=Object(l["a"])(s,i,n,!1,null,null,null);t["a"]=c.exports},e075:function(e,t,a){},f308:function(e,t,a){"use strict";a("8a64")}}]);