(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c5808e7"],{1106:function(t,n,e){t.exports=e.p+"static/img/arrow.svg"},"2ce6":function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"main-setting"},[a("div",{staticClass:"setting-model"},[a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Menu Timeout (sec)")]),a("el-input-number",{attrs:{"controls-position":"right",max:3600,precision:0,min:0},on:{blur:t.checkBlur},model:{value:t.osdConfig["Channel menu"].timeout_sec,callback:function(n){t.$set(t.osdConfig["Channel menu"],"timeout_sec",n)},expression:"osdConfig['Channel menu'].timeout_sec"}})],1),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Channels per Page")]),a("el-input-number",{attrs:{"controls-position":"right",max:10,min:5},on:{blur:t.checkBlur},model:{value:t.osdConfig["Channel menu"]["max channels_per page"],callback:function(n){t.$set(t.osdConfig["Channel menu"],"max channels_per page",n)},expression:"osdConfig['Channel menu']['max channels_per page']"}})],1),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Maximum Channels")]),a("el-input-number",{attrs:{"controls-position":"right",max:999,min:0},on:{blur:t.checkBlur},model:{value:t.osdConfig["Channel menu"]["max channels"],callback:function(n){t.$set(t.osdConfig["Channel menu"],"max channels",n)},expression:"osdConfig['Channel menu']['max channels']"}})],1),a("div",[a("span",{staticClass:"setting-title"},[t._v("Channel List")]),a("ul",{staticClass:"edid-list"},[a("li",[a("button",{staticClass:"btn btn-primary",attrs:{disabled:this.channelList["channels list"].length>=t.osdConfig["Channel menu"]["max channels"]},on:{click:function(n){t.dialogType=1}}},[t._v("ADD")]),a("button",{staticClass:"btn btn-plain-primary",staticStyle:{"margin-left":"24px"},attrs:{type:"button"}},[t._v("IMPORT")]),a("button",{staticClass:"btn btn-plain-primary",staticStyle:{"margin-left":"24px"},attrs:{type:"button"}},[t._v(" EXPORT ")])]),t._m(0),t._l(t.currentData,(function(n,e){return a("li",{key:n.id,class:{active:t.edidListIndex===e}},[a("span",{staticClass:"channel-title",on:{click:function(n){t.edidListIndex=e}}},[t._v(t._s(n.id))]),a("span",{staticClass:"channel-name",on:{click:function(n){t.edidListIndex=e}}},[t._v(t._s(n.name))]),a("span",{staticClass:"channel-icon"},[a("span",{on:{click:function(n){return t.editChannel(e)}}},[a("icon-svg",{staticStyle:{"margin-right":"5px"},attrs:{"icon-class":"edit"}})],1),a("el-popconfirm",{attrs:{title:"Are you sure you want to delete "+n.name+"?"},on:{confirm:function(n){return t.deleteChannel(e)}}},[a("icon-svg",{attrs:{slot:"reference","icon-class":"rubbish"},slot:"reference"})],1)],1)])}))],2),a("div",{staticClass:"channel-list-pagination",staticStyle:{"margin-bottom":"24px"}},[a("span",[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.countPages()))]),a("div",[a("span",{staticClass:"channel-list-icon",on:{click:function(n){return t.next(t.currentPage-1)}}},[a("img",{attrs:{src:e("1106")}})]),a("span",{staticClass:"channel-list-icon",on:{click:function(n){return t.next(t.currentPage+1)}}},[a("img",{attrs:{src:e("1106")}})])])])]),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Menu Font Size")]),a("multiselect",{attrs:{options:t.osdSize.param},model:{value:t.osdConfig["Channel menu"]["font size"],callback:function(n){t.$set(t.osdConfig["Channel menu"],"font size",n)},expression:"osdConfig['Channel menu']['font size']"}})],1),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Menu Position")]),a("multiselect",{attrs:{options:t.osdPosition.param},model:{value:t.osdConfig["Channel menu"].position,callback:function(n){t.$set(t.osdConfig["Channel menu"],"position",n)},expression:"osdConfig['Channel menu'].position"}})],1),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title"},[t._v("Display Device Information")]),a("v-switch",{attrs:{"active-value":"ON","inactive-value":"OFF"},on:{change:t.setDisplayInfo},model:{value:t.osdConfig["Device Info"].Enabled,callback:function(n){t.$set(t.osdConfig["Device Info"],"Enabled",n)},expression:"osdConfig['Device Info'].Enabled"}}),a("button",{staticClass:"btn",class:["OFF"===t.osdConfig["Device Info"].Enabled?"btn-plain-primary":"btn-default"],staticStyle:{"margin-left":"24px"},attrs:{disabled:"ON"===t.osdConfig["Device Info"].Enabled,type:"button"},on:{click:function(n){return t.setDisplayInfo("2")}}},[t._v("DISPLAY NOW")])],1)]),a("footer",[a("button",{staticClass:"btn btn-primary",on:{click:t.save}},[t._v("SAVE")])]),a("el-dialog",{attrs:{title:"Channel",visible:1==t.dialogType,width:"400px","before-close":t.closeDialog}},[a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title",staticStyle:{width:"80px"}},[t._v("ID")]),a("div",{class:{"error-input":t.idError},staticStyle:{position:"relative",flex:"1"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addChannel.id,expression:"addChannel.id"}],staticClass:"setting-text",attrs:{type:"text",maxlength:"3"},domProps:{value:t.addChannel.id},on:{input:function(n){n.target.composing||t.$set(t.addChannel,"id",n.target.value)}}}),a("span",{staticClass:"alert-error"},[t._v("Numbers only")])])]),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title",staticStyle:{width:"80px"}},[t._v("Name")]),a("div",{class:{"error-input":t.idError},staticStyle:{position:"relative",flex:"1"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addChannel.name,expression:"addChannel.name"}],staticClass:"setting-text",attrs:{type:"text",maxlength:"24"},domProps:{value:t.addChannel.name},on:{input:function(n){n.target.composing||t.$set(t.addChannel,"name",n.target.value)}}}),a("span",{staticClass:"alert-error"},[t._v("Name must be 1 to 24 characters in length, "),a("br"),t._v("alphanumeric only and space")])])]),t.idRulerError?a("span",{staticStyle:{color:"#d50000","font-size":"14px","font-family":"open sans bold"}},[t._v("This id already exists")]):t._e(),a("span",{staticClass:"dialog-footer",staticStyle:{padding:"0"},attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.handleAddChannel}},[t._v("APPLY")])])]),a("el-dialog",{attrs:{title:"Channel Edit",visible:2==t.dialogType,width:"400px","before-close":t.closeDialog}},[a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title",staticStyle:{width:"80px"}},[t._v("ID")]),a("div",{staticStyle:{position:"relative",flex:"1"}},[t._v(" "+t._s(t.editObj.id)+" ")])]),a("div",{staticClass:"setting"},[a("span",{staticClass:"setting-title",staticStyle:{width:"80px"}},[t._v("Name")]),a("div",{class:{"error-input":t.editError},staticStyle:{position:"relative",flex:"1"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editObj.name,expression:"editObj.name"}],staticClass:"setting-text",attrs:{type:"text",maxlength:"24"},domProps:{value:t.editObj.name},on:{input:function(n){n.target.composing||t.$set(t.editObj,"name",n.target.value)}}}),a("span",{staticClass:"alert-error"},[t._v("Name must be 1 to 24 characters in length, "),a("br"),t._v("alphanumeric only and space.")])])]),a("span",{staticClass:"dialog-footer",staticStyle:{padding:"0"},attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.handleEditChannel}},[t._v("APPLY")])])])],1)},i=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("li",[e("span",{staticClass:"channel-title"},[t._v("#ID")]),e("span",[t._v("Name")])])}],s=(e("fb6a"),e("b0c0"),e("a434"),e("ac1f"),e("466d"),{name:"osd",data:function(){return{osdConfig:{"Channel menu":{timeout_sec:0,position:"TopCenter","font size":"Small","max channels_per page":5,"max channels":999},"Device Info":{Enabled:"OFF",Timeout:2}},dialogType:0,edidListIndex:0,prePage:5,maxChannels:100,currentPage:1,show:!1,osdSize:{val:"large",param:[{value:"large",label:"Large"},{value:"medium",label:"Medium"},{value:"small",label:"Small"}]},osdPosition:{val:"topleft",param:[{value:"topleft",label:"Top Left"},{value:"top",label:"Top"},{value:"topright",label:"Top Right"},{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"},{value:"bottomleft",label:"Bottom Left"},{value:"bottom",label:"Bottom"},{value:"bottomright",label:"Bottom Right"}]},displayDevice:!1,channelList:{"channels list":[]},addChannel:{id:"",name:""},idError:!1,nameError:!1,idRulerError:!1,editError:!1,editObj:{index:0,name:"",id:""}}},computed:{currentData:function(){if(this.channelList["channels list"]){var t=(this.currentPage-1)*this.osdConfig["Channel menu"]["max channels_per page"],n=this.currentPage*this.osdConfig["Channel menu"]["max channels_per page"];return this.channelList["channels list"].slice(t,n)}return[]}},created:function(){this.getOsdJson(),this.getAvChannelMap()},methods:{getOsdJson:function(){var t=this;this.$http.post("/osd/overlay").then((function(n){n.data&&(t.osdConfig=n.data)}))},getAvChannelMap:function(){var t=this;this.$http.post("/channel/channel_map").then((function(n){n.data&&(t.channelList=n.data)}))},next:function(t){var n=this.countPages();t<=0||t>n||(this.currentPage=t,this.edidListIndex=0)},closeDialog:function(){this.dialogType=0},handleAddChannel:function(){if(this.idError=!this.isID(this.addChannel.id),this.nameError=!this.isName(this.addChannel.name),!this.idError&&!this.nameError){var t=!1;for(var n in this.channelList["channels list"])this.channelList["channels list"][n].id===this.addChannel.id&&(t=!0);this.idRulerError=t,t||(this.channelList["channels list"].push({id:parseInt(this.addChannel.id),name:this.addChannel.name}),this.channelList["channels list"]=this.sortChannel(this.channelList["channels list"]),this.dialogType=0)}},sortChannel:function(t){return t.sort((function(t,n){return t.id-n.id}))},deleteChannel:function(t){var n=this.osdConfig["Channel menu"]["max channels_per page"]*(this.currentPage-1)+t;this.channelList["channels list"].splice(n,1),this.currentPage>this.countPages()&&(this.currentPage=this.countPages(),this.edidListIndex=0)},editChannel:function(t){var n=this.osdConfig["Channel menu"]["max channels_per page"]*(this.currentPage-1)+t,e=this.channelList["channels list"].slice(n,n+1)[0];this.editObj={index:n,name:e.name,id:e.id},this.dialogType=2},handleEditChannel:function(){this.editError=!this.isName(this.editObj.name),this.editError||(this.channelList["channels list"][this.editObj.index].name=this.editObj.name,this.dialogType=0)},countPages:function(){return Math.ceil((this.channelList["channels list"]?this.channelList["channels list"].length:0)/this.osdConfig["Channel menu"]["max channels_per page"])},isID:function(t){return t.match(/^[1-9]?[1-9]?[1-9]$/)},isName:function(t){return t.match(/^[A-Za-z0-9 ]{1,15}$/)},setDisplayInfo:function(t){this.$socket.sendMsg("KDS-OSD-DISPLAY "+("2"===t?t:"on"===t?1:0))},save:function(){this.$http.post("/osd/set_overlay",this.osdConfig),this.$http.post("/channel/set_channel_map",this.channelList)},checkBlur:function(){this.osdConfig["Channel menu"].timeout_sec=this.osdConfig["Channel menu"].timeout_sec||0,this.osdConfig["Channel menu"]["max channels_per page"]=this.osdConfig["Channel menu"]["max channels_per page"]||0,this.osdConfig["Channel menu"]["max channels"]=this.osdConfig["Channel menu"]["max channels"]||0}}}),l=s,o=(e("e647"),e("2877")),r=Object(o["a"])(l,a,i,!1,null,"2b58bc32",null);n["default"]=r.exports},"466d":function(t,n,e){"use strict";var a=e("d784"),i=e("825a"),s=e("50c4"),l=e("1d80"),o=e("8aa5"),r=e("14c3");a("match",1,(function(t,n,e){return[function(n){var e=l(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,e):new RegExp(n)[t](String(e))},function(t){var a=e(n,t,this);if(a.done)return a.value;var l=i(t),c=String(this);if(!l.global)return r(l,c);var d=l.unicode;l.lastIndex=0;var h,u=[],m=0;while(null!==(h=r(l,c))){var p=String(h[0]);u[m]=p,""===p&&(l.lastIndex=o(c,s(l.lastIndex),d)),m++}return 0===m?null:u}]}))},"8d89":function(t,n,e){},a434:function(t,n,e){"use strict";var a=e("23e7"),i=e("23cb"),s=e("a691"),l=e("50c4"),o=e("7b0b"),r=e("65f0"),c=e("8418"),d=e("1dde"),h=d("splice"),u=Math.max,m=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!h},{splice:function(t,n){var e,a,d,h,f,C,v=o(this),b=l(v.length),x=i(t,b),_=arguments.length;if(0===_?e=a=0:1===_?(e=0,a=b-x):(e=_-2,a=m(u(s(n),0),b-x)),b+e-a>p)throw TypeError(g);for(d=r(v,a),h=0;h<a;h++)f=x+h,f in v&&c(d,h,v[f]);if(d.length=a,e<a){for(h=x;h<b-a;h++)f=h+a,C=h+e,f in v?v[C]=v[f]:delete v[C];for(h=b;h>b-a+e;h--)delete v[h-1]}else if(e>a)for(h=b-a;h>x;h--)f=h+a-1,C=h+e-1,f in v?v[C]=v[f]:delete v[C];for(h=0;h<e;h++)v[h+x]=arguments[h+2];return v.length=b-a+e,d}})},e647:function(t,n,e){"use strict";e("8d89")}}]);