(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1008268e"],{"25db":function(t,s,e){},bf83:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"main-setting"},[e("div",{staticClass:"setting-model"},[e("div",{staticClass:"setting"},[e("span",{staticClass:"setting-title"},[t._v("Active Syslog")]),e("v-switch",{attrs:{"active-value":"1","inactive-value":"2"},on:{change:t.setActiveLog},model:{value:t.syslog,callback:function(s){t.syslog=s},expression:"syslog"}})],1),e("div",{staticClass:"setting"},[e("span",{staticClass:"setting-title"},[t._v("Log Reset Policy")]),e("multiselect",{attrs:{options:t.logResetPolicyParam},on:{input:t.setActiveLog},model:{value:t.logResetPolicy,callback:function(s){t.logResetPolicy=s},expression:"logResetPolicy"}})],1),e("div",{staticClass:"setting"},[e("span",{staticClass:"setting-title"},[t._v("Log")]),e("button",{staticClass:"btn btn-plain-primary",on:{click:t.viewLog}},[t._v("VIEW")]),e("button",{staticClass:"btn btn-plain-primary",staticStyle:{"margin-left":"25px"},on:{click:t.exportLog}},[t._v("EXPORT")])])]),e("div",{staticClass:"setting-model"},[e("h3",{staticClass:"setting-model-title"},[t._v("Gateway Messages Counter")]),t._m(0),e("div",{staticClass:"setting"},[e("span",{staticClass:"setting-title"},[t._v("RS-232")]),e("span",{staticStyle:{width:"200px"}},[t._v(t._s(t.rs232.send))]),e("span",{staticStyle:{width:"200px"}},[t._v(t._s(t.rs232.recv))])]),e("div",{staticClass:"setting"},[e("span",{staticClass:"setting-title"},[t._v("CEC")]),e("span",{staticStyle:{width:"200px"}},[t._v(t._s(t.cec.send))]),e("span",{staticStyle:{width:"200px"}},[t._v(t._s(t.cec.recv))])]),e("div",{staticClass:"setting"},[e("span",{staticClass:"setting-title"},[t._v("IR")]),e("span",{staticStyle:{width:"200px"}},[t._v(t._s(t.ir.send))]),e("span",{staticStyle:{width:"200px"}},[t._v(t._s(t.ir.recv))])])]),t.isExport?e("iframe",{attrs:{src:"/log/log",frameborder:"0",width:"0",height:"0"}}):t._e(),e("el-dialog",{attrs:{title:"Log",visible:t.showLogDialog,width:"800px"},on:{"update:visible":function(s){t.showLogDialog=s}}},[e("p",[t._v(" "+t._s(t.logMsg)+" ")])])],1)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"setting"},[e("span",{staticClass:"setting-title"}),e("span",{staticClass:"setting-title"},[t._v("Send")]),e("span",{staticClass:"setting-title"},[t._v("Receive ")])])}],n=(e("498a"),e("ac1f"),e("841c"),e("1276"),e("99af"),{name:"status",data:function(){return{syslog:"1",logResetPolicy:"3",logResetPolicyParam:[{value:"2",label:"Daily"},{value:"3",label:"Weekly"}],rs232:{recv:0,send:0},cec:{recv:0,send:0},ir:{recv:0,send:0},isExport:!1,showLogDialog:!1,logMsg:""}},beforeCreate:function(){var t=this;this.$socket.ws.onmessage=function(s){t.handleMsg(s.data.trim())}},created:function(){this.$socket.sendMsg("#LOG-ACTION? "),this.$socket.sendMsg("#GTW-MSG-NUM? 1,"+this.getDay()),this.$socket.sendMsg("#GTW-MSG-NUM? 2"),this.$socket.sendMsg("#GTW-MSG-NUM? 3")},methods:{handleMsg:function(t){-1===t.search(/@LOG-ACTION /i)?-1!==t.search(/@GTW-MSG-NUM /i)&&this.handleSendCounter(t):this.handleLogAction(t)},handleLogAction:function(t){var s=t.split(" ")[1].split(",");this.syslog=s[0],this.logResetPolicy=s[1]},setActiveLog:function(){this.$socket.sendMsg("#LOG-ACTION ".concat(this.syslog,",").concat(this.logResetPolicy))},handleSendCounter:function(t){var s=t.split(" ")[1].split(",");"1"===s?(this.cec.recv=s[2],this.cec.send=s[3]):"2"===s?(this.ir.recv=s[2],this.ir.send=s[3]):"3"===s&&(this.rs232.recv=s[2],this.rs232.send=s[3])},getDay:function(){var t=new Date,s=t.getFullYear(),e=t.getMonth()<8?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<9?"0"+t.getDate():t.getDate();return i+"-"+e+"-"+s},exportLog:function(){var t=this;this.isExport=!1,setTimeout((function(){t.isExport=!0}),500)},viewLog:function(){var t=this;this.logMsg="",this.showLogDialog=!0,this.$http.get("/log/log?t="+Math.random()).then((function(s){t.logMsg=s.data}))}}}),l=n,o=(e("edf9"),e("2877")),c=Object(o["a"])(l,i,a,!1,null,"638a1b64",null);s["default"]=c.exports},edf9:function(t,s,e){"use strict";e("25db")}}]);